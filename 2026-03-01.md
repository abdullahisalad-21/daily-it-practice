ğŸ“˜ Overview
Today I worked on DNS resolution across Windows, Ubuntu VM, and WSL. I installed missing DNS tools, checked NTP sync, inspected /etc/hosts, and confirmed WSL installation behavior.
ğŸ¯ Objectives
- Test DNS resolution on Windows
- Install DNS tools on Ubuntu/WSL
- Configure NTP
- Inspect /etc/hosts behavior in WSL
- Verify WSL installation
ğŸ› ï¸ Tools & Commands Used
- nslookup
- ping
- ipconfig /all
- timedatectl
- sudo timedatectl set-ntp
- sudo nano /etc/systemd/timesyncd.conf
- sudo systemctl restart systemd-timesyncd
- sudo apt install dnsutils
- sudo vim /etc/hosts
- wsl -l -v
- wsl --install
- shutdown /r /t 0
ğŸš€ Steps Completed
- Ran nslookup facebook.com on Windows and confirmed DNS server 10.221.121.78.
- Verified IPv4 and IPv6 resolution and tested connectivity with ping.
- Attempted nslookup on WSL and installed dnsutils to enable DNS tools.
- Used dig and nslookup on Ubuntu to confirm DNS functionality.
- Checked NTP sync using timedatectl and edited the config to use time.google.com.
- Restarted the NTP service and confirmed synchronization.
- Opened /etc/hosts in WSL and reviewed autoâ€‘generated entries.
- Checked WSL installation status and triggered installation when missing.
- Rebooted the system to complete WSL setup.
ğŸ Problems & Fixes
- Problem: nslookup missing on WSL.
Fix: Installed dnsutils.
- Problem: NTP config required editing.
Fix: Updated timesyncd config and restarted service.
- Problem: WSL not installed.
Fix: Ran wsl --install and rebooted.
ğŸ§  What I Learned
- How Windows resolves DNS using internal resolvers
- How to install DNS tools on Ubuntu
- How to configure NTP using systemd-timesyncd
- How WSL autoâ€‘generates /etc/hosts
- How to trigger WSL installation from PowerShell
ğŸ“ Related Files
- /etc/systemd/timesyncd.conf
- /etc/hosts
- WSL installation logs
